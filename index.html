<!-- TO DO 
  1. Move custom map code into template and connect fields 
  2. Create field for copyable code
  3. Get map to load more consistently
  4. Markers
		a. Make draggable
===== -->

<!DOCTYPE html>
<html>
	<head>
		<title>Google Maps Generator</title>
		<link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" />
		<link type="text/css" rel="stylesheet" href="css/style.css" />
	</head>
	<body>
		<div id="root">
			<form id="mapSettings">
				<h2><i class="fa fa-plus-circle" aria-hidden="true"></i> Map Settings</h2>
				
				<fieldset>
					<label for="zoomLevel">Map zoom level</label>
					<input type="number" id="zoomLevel" v-model="zoomLevel" />
				</fieldset>
				
				<fieldset>
					<p><strong>Map Center Point</strong></p>
					<label for="centerLat">Latitude</label>
					<input type="number" id="centerLat" v-model="centerLat" /> 
					<label for="centerLong">Longitude</label>
					<input type="number" id="centerLong" v-model="centerLong" />
				</fieldset>
				
				<fieldset>
					<p><strong>Map Dimensions</strong></p>
					<label for="mapWidth">Width</label>
					<input type="number" id="mapWidth" v-model="mapWidth" />
					<label for="mapHeight">Height</label>
					<input type="number" id="mapHeight" v-model="mapHeight" />
				</fieldset>
			</form>
			
			<form action="javascript:void(0);" id="addMarker">
				<h2><i class="fa fa-plus-circle" aria-hidden="true"></i> Add A Marker</h2>
				<fieldset>
					<label for="locationName">Location Name</label>
					<input type="text" id="locationName" v-model="locationName"/> 
				</fieldset>
				<fieldset>
					<label for="latitude">Latitude</label>
					<input type="number" id="latitude" v-model="latitude"/> 
					<label for="longitude">Longitude</label>
					<input type="number" id="longitude" v-model="longitude"/> 
				</fieldset>
				<fieldset>
					<label for="locationImage">Image Link</label>
					<input type="url" id="locationImage" v-model="locationImage" />
				</fieldset>
				<fieldset>
					<label for="locationDescription">Location description</label>
					<textarea id="locationDescription" v-model="locationDescription"></textarea> 
				</fieldset>
				<fieldset>
					<label for="locationLink">Link to external site</label>
					<input type="url" id="locationLink" v-model="locationLink" />	
				</fieldset>
				<button id="addMarkerButton" @click="reset()">Add Marker</button>
				
				<p>Info window preview:</p>
				<div class="infowindow">
					<div id="locationThumb"><img v-bind:src=" locationImage" /></div>
					<h2>{{locationName}}</h2>
					<p>{{locationDescription}}</p>
					
					<p><a v-bind:href="locationLink">More Info</a></p>
				</div>
			</form>
			
			<div id="map-wrapper">
				<div id="map-menu">
					<div class="menu-section-header"></div>
					<div class="menu-section first">
						<div class="thumbnail" v-bind:style="{ backgroundImage: 'url(' + locationImage + ')' }" data-lat="{{latitude}}" data-long="{{longitude}}">
							<p>{{locationName}}</p>
							<div class="description">
									<p>{{locationDescription}}</p>
									<p><a v-bind:href="locationLink">Website</a></p>
							</div>
						</div>
					</div>
				</div>
				
				<div id="map" :style="{ height: mapHeight + 'px' }"></div>
			</div>
			
			<div id="getCode">
				<h2><i class="fa fa-plus-circle" aria-hidden="true"></i> Copy Code</h2>
				<p><strong>Copy code below and paste to your site:</strong></p>
				<textarea id="mapCode">
					<div id="map-wrapper">
						<div id="map-menu">
							
						</div>
					</div>
				</textarea>
			</div>
		</div>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.3/vue.min.js"></script>
		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD8lBLShwOJ9-oZJeO0PHkaN5wMHnVRJGM&callback=initMap" async defer></script>
		<script src="js/script.js" type="text/javascript"></script>
	</body>
</html>
